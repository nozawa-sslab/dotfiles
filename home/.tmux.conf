set-option -g prefix C-f
unbind C-b
#bind-key C-a send-prefix

## 256è‰²ç«¯æœ«ã‚’ä½¿ç”¨ã™ã‚‹
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

## status line ã‚’æ›´æ–°ã™ã‚‹é–“éš”ã‚’1ç§’ã«ã™ã‚‹
set-option -g status-interval 1

## escape ã‚­ãƒ¼ã®å¾…ã¡æ™‚é–“ã‚’ 0 ã«ã™ã‚‹.
set -s escape-time 10

# split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹
# ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§vimã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’ä½¿ã†
setw -g mode-keys vi

## ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒšã‚¤ãƒ³ã®ã¿ç™½ã£ã½ãå¤‰æ›´ï¼ˆçœŸã£é»’ã¯232ï¼‰
#set -g window-style 'bg=colour239'
#set -g window-active-style 'bg=colour234'

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’ãƒˆãƒƒãƒ—ã«é…ç½®ã™ã‚‹
set-option -g status-position top

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®è‰²ã‚’å¤‰æ›´ã™ã‚‹
set-option -g status-bg "colour109"

# å·¦
set-option -g status-left "#[bold]#[bg=colour148]#[fg=colour234] #S:#I.#P "

#ä¸­å¤®
## ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚¹ãƒˆã®ä½ç½®ã‚’ä¸­å¿ƒå¯„ã›ã«ã™ã‚‹
set -g status-justify "centre"

## window-status ã®ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚
## '#I'ã¯ã‚«ãƒ¬ãƒ³ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€'#W'ã¯ã‚«ãƒ¬ãƒ³ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å
set-window-option -g window-status-format " #I: #W "

## ã‚«ãƒ¬ãƒ³ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦window-status ã®ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹
set-window-option -g window-status-current-format "#[bold] #I: #W"

# ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ã¨ç¾åœ¨æ™‚åˆ»ã‚’æœ€å³ã«è¡¨ç¤º
set-option -g status-right "Batt:#{battery_icon} #{battery_percentage} #[bold] [%Y-%m-%d(%a) %H:%M]"
#set -g @batt_charged_icon "ðŸ˜Ž"
# å……é›»ä¸­
#set -g @batt_charging_icon "ðŸ‘"
# æ”¾é›»ä¸­
#set -g @batt_discharging_icon "ðŸ‘Ž"
# æŽ¥ç¶šã•ã‚Œã¦ã„ã‚‹ãŒå……é›»ã•ã‚Œã¦ã„ãªã„
#set -g @batt_attached_icon "ðŸ˜"


# æ“ä½œç³»
## ãƒžã‚¦ã‚¹æ“ä½œã‚’æœ‰åŠ¹åŒ–
set -g mouse on
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"
bind -n WheelDownPane select-pane -t= \; send-keys -M
## ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒˆã¨ã®é€£æº
### â˜†MacOS
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"
### â˜†Windows(WLS)
#bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel "win32yank.exe -i"
#unbind -T copy-mode-vi Enter
#bind-key -T copy-mode-vi Enter send -X copy-pipe-and-cancel "win32yank.exe -i"
#bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "win32yank.exe -i"
#unbind-key -T prefix v
#bind-key v run "win32yank.exe -o | tmux load-buffer - && tmux paste-buffer"

#set -g set-clipboard on

# clipboard integration
# C-c: save into system clipboard (+). With preselection.
bind C-c choose-buffer "run \"tmux save-buffer -b %% - | xclip -i -sel clipboard\" \; run \" tmux display \\\"Clipboard \(+\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-v: copy from + clipboard.
bind C-v run "tmux set-buffer \"$(xclip -o -sel clipboard)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(+\) $(xclip -o -sel clipboard | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""

# C-d: save into selection clipboard (*). With preselection.
bind C-d choose-buffer "run \"tmux save-buffer -b %% - | xclip -i\" \; run \" tmux display \\\"Clipboard \(*\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-f: copy from * clipboard.
bind C-f run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(*\) $(xclip -o | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""


# tmux plugins
set -g @plugin 'tmux-plugins/tmp'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-battery'

# tmux-resurrect
## for vim
set -g @resurrect-strategy-vim 'session'
## for neovim
set -g @resurrect-strategy-nvim 'session'

run '~/.tmux/plugins/tpm/tpm'
